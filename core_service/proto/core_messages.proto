syntax = "proto3";

import "google/protobuf/timestamp.proto";

package coreService;

option go_package = "./;coreService";

message Api {
  string uuid        = 1;
  string title       = 2;
  string description = 3;
  bool   token       = 4;
}

message ApiFull {
  string          uuid          = 1;
  string          title         = 2;
  string          description   = 3;
  string          token         = 4;
  repeated string subscriptions = 5;
}

message ApiParams {
  string access_token  = 1;
  string company_uuid  = 2;
  string api_uuid      = 3;
  string idm_user_uuid = 4;
}

message AddApiReq {
  ApiParams params      = 1;
  string    title       = 2;
  string    description = 3;
  string    token       = 4;
}

message GetApiReq { ApiParams params = 1; }

message GetApiRes { repeated Api api = 1; }

message GetFullApiReq { ApiParams params = 1; }

message UpdateApiReq {
  ApiParams       params      = 1;
  optional string title       = 2;
  optional string description = 3;
  optional string token       = 4;
}

message DeleteApiReq { ApiParams params = 1; }

message PresignUrlRes {
  string file_id       = 1;
  string url           = 2;
  string method        = 3;
  string x_amx_tagging = 4;
}